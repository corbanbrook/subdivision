/* Config */

// Gutter - Can be fixed or relative unit
$subdivision-gutter = 10px;
$subdivision-h-gutter = $subdivision-gutter;
$subdivision-v-gutter = $subdivision-gutter;

// Selectors
$subdivision-container-selector = ".container";
$subdivision-column-selector = "div";


/* Mixins */
column(fraction = 1, offset = 0) {
  base = "calc(%s - %s)" % (percentage(fraction) $subdivision-h-gutter)
  flex-basis: base;
  max-width: base;
  offset(offset);
}

offset(offset) {
  if typeof(offset) == "string" {
    margin-left: offset;
  } else if typeof(offset) != "unit" {
    if offset != 0 {
      margin-left: calc(percentage(offset) + ($subdivision-h-gutter / 2));
    }
  } else {
    margin-left: offset;
  }
}


/* Classes */
{$subdivision-container-selector} {
  display: flex;
  flex-wrap: wrap;
  margin: 0 (-($subdivision-h-gutter) / 2);
  box-sizing: border-box;

  > {$subdivision-column-selector} {
    margin: 0 ($subdivision-h-gutter / 2) $subdivision-v-gutter;
    flex: 1 1 0%;

    > {$subdivision-container-selector} {
      margin-bottom: -($subdivision-v-gutter);
    }
  }
}
